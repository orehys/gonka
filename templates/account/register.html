{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="catalog_page">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="breadcrumbs">
                    <a href="/">Главная</a> / <a href="{% url 'catalog:account_profile' %}">Личный кабинет</a>
                </div>
            </div>
            <div class="col-xl-3 d-xl-block d-none">
                <div class="carservice_menu">
                    <p><a href="{% url 'catalog:account_orders' %}">Мои заказы</a></p>
                    <p><a href="{% url 'catalog:account_profile' %}">Личные данные</a></p>
                    <p><a href="{% url 'catalog:account_password' %}">Сменить пароль</a></p>
                    <p><a href="{% url 'catalog:favorites' %}">Избранное</a></p>
                    <p><a href="{% url 'catalog:cart_detail' %}">Корзина</a></p>
                </div>
                {% if request.user.is_authenticated %}
                <a href="{% url 'catalog:logout' %}"><button class="lk_btn">Выйти</button></a>
                {% else %}
                <a href="#" data-bs-toggle="modal" data-bs-target="#loginModal"><button class="lk_btn">Войти</button></a>
                {% endif %}
            </div>
            <div class="col-lg-9">
                <div class="carservice_form1">
                    <div class="carservice_form_con carservice_form_con2 mt-0" style="max-width: 500px;">
                        <form action="" method="post">
    {% csrf_token %}

    {# Ошибки всей формы #}
    {% if form.non_field_errors %}
      <div class="text-danger small mb-2">{{ form.non_field_errors|join:", " }}</div>
    {% endif %}

    <div class="row">
      <!-- ЛОГИН -->
      <div class="col-12">
        <h4 style="margin-top: 0;">Логин <span>*</span></h4>
        <input type="text" name="username"
               value="{{ form.username.value|default_if_none:'' }}"
               class="auth-input" required>
        {% if form.username.errors %}
          <div class="text-danger small mt-1">{{ form.username.errors.0 }}</div>
        {% endif %}
      </div>

      <!-- ФИО -->
      <div class="col-12">
        <h4>Фамилия Имя Отчество <span>*</span></h4>
        <input type="text" name="full_name"
               value="{{ form.full_name.value|default_if_none:'' }}"
               class="auth-input" required>
        <h6>Заполните, чтобы мы знали, как к вам обращаться</h6>
        {% if form.full_name.errors %}
          <div class="text-danger small mt-1">{{ form.full_name.errors.0 }}</div>
        {% endif %}
      </div>

      <!-- E-mail -->
      <div class="col-12">
        <h4>E-mail <span>*</span></h4>
        <input type="email" name="email"
               value="{{ form.email.value|default_if_none:'' }}"
               class="auth-input" required>
        <h6>Для отправки уведомлений о статусе заказа</h6>
        {% if form.email.errors %}
          <div class="text-danger small mt-1">{{ form.email.errors.0 }}</div>
        {% endif %}
      </div>

      <!-- Телефон -->
      <div class="col-12">
        <h4>Телефон <span>*</span></h4>
        <input type="text" name="phone"
               value="{{ form.phone.value|default_if_none:'' }}"
               class="auth-input" required>
        <h6>Необходим для уточнения деталей заказа</h6>
        {% if form.phone.errors %}
          <div class="text-danger small mt-1">{{ form.phone.errors.0 }}</div>
        {% endif %}
      </div>
      <!-- Пароль -->
      <div class="col-12">
        <h4>Пароль <span>*</span></h4>
        <input type="password" name="password"
               class="auth-input" placeholder="Введите пароль..." required>
        {% if form.password.errors %}
          <div class="text-danger small mt-1">{{ form.password.errors.0 }}</div>
        {% endif %}
      </div>

      <!-- Кнопка -->
      <div class="col-12">
        <button class="btn btn-login w-100" style="margin-top: 24px; height: 42px; border: none;">
          Зарегистрироваться
        </button>
      </div>
    </div>
  </form>

                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}
